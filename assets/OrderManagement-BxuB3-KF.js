import{c as g,O as S,b as O,j as e,X as k}from"./index-CLvT_caO.js";import{r as c}from"./vendor-BlcjAmUP.js";import{f as m}from"./utils-Dup6WxmZ.js";import{F as C}from"./filter-DsH4_60S.js";import{P as D}from"./package-Clldf9P3.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=g("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=g("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);function H(){const r=c.useContext(S);if(!r)throw new Error("useOrderStatus must be used within an OrderStatusProvider");return r}const z=()=>{const{orders:r,updateOrder:x}=O(),{customStatuses:d,addStatus:j}=H(),[h,f]=c.useState(null),[N,u]=c.useState(!1),[l,i]=c.useState({name:"",color:"#000000"}),[o,v]=c.useState("all"),p=o==="all"?r:r.filter(s=>s.status===o),y=(s,a)=>{const t=r.find(n=>n.id===s);if(t){const n={...t,status:a,statusHistory:[...t.statusHistory,{status:a,date:new Date().toISOString()}]};x(s,n)}},b=(s,a)=>{const t=r.find(n=>n.id===s);t&&x(s,{...t,trackingNumber:a})},w=()=>{l.name.trim()&&(j(l),i({name:"",color:"#000000"}),u(!1))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Order Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track all orders"})]})}),N&&e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Add New Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Status Name",value:l.name,onChange:s=>i({...l,name:s.target.value}),className:"p-2 border rounded focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:l.color,onChange:s=>i({...l,color:s.target.value}),className:"p-1 border rounded h-10 w-20"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Pick a color"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:w,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Save"]}),e.jsxs("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"Cancel"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(C,{className:"h-5 w-5 text-gray-500"}),e.jsxs("select",{value:o,onChange:s=>v(s.target.value),className:"p-2 border rounded focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Orders"}),d.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:d.map(s=>e.jsxs("div",{className:"p-3 rounded-lg text-center",style:{backgroundColor:s.color+"20",borderColor:s.color},children:[e.jsx("span",{className:"font-medium",style:{color:s.color},children:s.name}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[r.filter(a=>a.status===s.name).length," orders"]})]},s.id))})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-soft",children:p.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(D,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No orders found"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:p.map(s=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("h3",{className:"text-lg font-medium",children:["Order #",s.orderNumber]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(s.orderDate).toLocaleDateString()})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.billingInfo.companyName," - ",m(s.total)]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("select",{value:s.status,onChange:a=>y(s.id,a.target.value),className:"p-2 border rounded focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:d.map(a=>e.jsx("option",{value:a.name,children:a.name},a.id))}),e.jsx("input",{type:"text",placeholder:"Tracking #",value:s.trackingNumber||"",onChange:a=>b(s.id,a.target.value),className:"p-2 border rounded focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),e.jsx("button",{onClick:()=>f(h===s.id?null:s.id),className:"p-2 text-gray-500 hover:text-gray-700",children:e.jsx(P,{className:"h-5 w-5"})})]})]}),h===s.id&&e.jsx("div",{className:"mt-6 border-t pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"Order Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("span",{className:"text-gray-600",children:"Status History:"})}),e.jsx("div",{className:"ml-4 space-y-1",children:s.statusHistory.map((a,t)=>e.jsxs("div",{className:"text-sm text-gray-600",children:[new Date(a.date).toLocaleString(),": ",a.status]},t))})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"Items"}),e.jsxs("div",{className:"space-y-2",children:[s.items.map((a,t)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[a.name," x",a.quantity]}),e.jsx("span",{children:m(a.price*a.quantity)})]},t)),e.jsx("div",{className:"border-t pt-2 mt-2 font-medium",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:m(s.total)})]})})]})]})]})})]},s.id))})})]})};export{z as default};
