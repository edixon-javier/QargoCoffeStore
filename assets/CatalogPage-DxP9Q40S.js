import{c as u,j as e,m,X as D,A as v}from"./index-Do8Yhrvl.js";import{r as a,u as se}from"./vendor-CkdC-DB4.js";import{B as d}from"./Button-BSeElGP9.js";import{c as q,m as ie,s as te,P as ae}from"./mockData-L32mLap8.js";import{C as le}from"./chevron-right-DnYCiRE1.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=u("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=u("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=u("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=u("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=u("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=u("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=u("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),n=({className:h=""})=>e.jsx("div",{className:`animate-pulse bg-gradient-to-r from-primary-50 via-primary-100 to-primary-50 rounded-md ${h}`,style:{backgroundSize:"200% 100%",animation:"pulse 1.5s ease-in-out infinite, shimmer 2s infinite linear"}}),me=({layout:h="grid"})=>h==="list"?e.jsxs(m.div,{className:"product-card flex flex-row mb-4 overflow-hidden h-[150px] bg-white shadow-soft",initial:{opacity:.6},animate:{opacity:1},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},children:[e.jsx(n,{className:"w-1/4 h-full"}),e.jsxs("div",{className:"w-3/4 p-4 flex flex-col",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"w-full",children:[e.jsx(n,{className:"w-1/4 h-4 mb-1"}),e.jsx(n,{className:"w-2/3 h-6 mb-2"})]})}),e.jsxs("div",{className:"space-y-2 flex-grow",children:[e.jsx(n,{className:"w-full h-4"}),e.jsx(n,{className:"w-full h-4"}),e.jsx(n,{className:"w-3/4 h-4"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[e.jsx(n,{className:"w-1/4 h-6"}),e.jsx(n,{className:"w-24 h-8 rounded-md"})]})]})]}):e.jsxs(m.div,{className:"product-card h-full bg-white shadow-soft",initial:{opacity:.6},animate:{opacity:1},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},children:[e.jsx("div",{className:"relative overflow-hidden pb-[100%]",children:e.jsx(n,{className:"absolute inset-0"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsx(n,{className:"w-1/3 h-4"})}),e.jsx(n,{className:"w-full h-6 mb-2"}),e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsx(n,{className:"w-1/3 h-6"}),e.jsx(n,{className:"w-10 h-10 rounded-full"})]})]})]}),je=()=>{const[h,G]=a.useState(!1),[p,O]=a.useState("grid"),[T,o]=a.useState([]),[P,W]=a.useState("relevance"),[E,H]=a.useState(!0),[l,S]=a.useState(1),[y]=a.useState(12),[x,N]=a.useState([]),[f,z]=a.useState([]),[j,A]=a.useState({min:null,max:null}),[F,M]=a.useState(""),[L,$]=a.useState(""),[c,_]=a.useState({categories:!0,price:!0,suppliers:!1}),X=se(),R=new URLSearchParams(X.search).get("categoria");a.useEffect(()=>{var s;if(R){const i=(s=q.find(t=>t.slug===R))==null?void 0:s.name;i&&(N([i]),o([i]))}},[R]);const V=a.useCallback(()=>{H(!0);const s=setTimeout(()=>{H(!1)},600);return()=>clearTimeout(s)},[]);a.useEffect(()=>{const s=setTimeout(()=>{V()},200);return()=>clearTimeout(s)},[x,f,j,P,l,V]);const g=a.useMemo(()=>[...ie.filter(i=>!(x.length>0&&!x.includes(i.category.name)||f.length>0&&!f.includes(i.supplier.name)||j.min!==null&&i.price<j.min||j.max!==null&&i.price>j.max))].sort((i,t)=>{switch(P){case"price-asc":return(i.salePrice||i.price)-(t.salePrice||t.price);case"price-desc":return(t.salePrice||t.price)-(i.salePrice||i.price);case"relevance":default:return 0}}),[x,f,j,P]),b=()=>G(!h),w=s=>{_(i=>({...i,[s]:!i[s]}))},U=(s,i)=>{i?(N(t=>[...t,s]),o(t=>[...t,s])):(N(t=>t.filter(r=>r!==s)),o(t=>t.filter(r=>r!==s)))},J=(s,i)=>{i?(z(t=>[...t,s]),o(t=>[...t,s])):(z(t=>t.filter(r=>r!==s)),o(t=>t.filter(r=>r!==s)))},B=()=>{const s=F?parseInt(F):null,i=L?parseInt(L):null;if(A({min:s,max:i}),o(t=>t.filter(r=>!r.includes("Price:"))),s!==null||i!==null){const t=`Price: ${s!==null?s:"0"}-${i!==null?i:"âˆž"}`;o(r=>[...r,t])}},K=s=>{o(T.filter(i=>i!==s)),x.includes(s)?N(i=>i.filter(t=>t!==s)):f.includes(s)?z(i=>i.filter(t=>t!==s)):s.includes("Precio:")&&(A({min:null,max:null}),M(""),$(""))},I=()=>{o([]),N([]),z([]),A({min:null,max:null}),M(""),$(""),S(1)},Q=()=>{const s=l*y,i=s-y;return g.slice(i,s)},Y=()=>{const s=Math.ceil(g.length/y);l<s&&(S(l+1),window.scrollTo(0,0))},Z=()=>{l>1&&(S(l-1),window.scrollTo(0,0))},ee=()=>{const s=Math.ceil(g.length/y);return s<=5?Array.from({length:s},(i,t)=>t+1):l<=3?[1,2,3,4,5]:l>=s-2?[s-4,s-3,s-2,s-1,s]:[l-2,l-1,l,l+1,l+2]};return e.jsxs("div",{className:"container-custom py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-serif mb-2",children:"Product Catalog"}),e.jsx("p",{className:"text-secondary-600",children:"Find everything you need for your coffee business"})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:[e.jsx(d,{variant:"outline",size:"sm",leftIcon:e.jsx(re,{size:16}),onClick:b,className:"md:hidden",children:"Filters"}),e.jsxs("div",{className:"flex items-center gap-2 flex-grow md:flex-grow-0",children:[e.jsx("span",{className:"text-sm text-secondary-600",children:"View as:"}),e.jsx("button",{onClick:()=>O("grid"),className:`p-1.5 rounded ${p==="grid"?"bg-primary-100 text-primary-800":"text-secondary-400"}`,"aria-label":"View as grid",children:e.jsx(ce,{size:18})}),e.jsx("button",{onClick:()=>O("list"),className:`p-1.5 rounded ${p==="list"?"bg-primary-100 text-primary-800":"text-secondary-400"}`,"aria-label":"View as list",children:e.jsx(oe,{size:18})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-secondary-600",children:"Sort by:"}),e.jsxs("select",{className:"border border-primary-200 rounded p-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-primary-400",value:P,onChange:s=>W(s.target.value),children:[e.jsx("option",{value:"relevance",children:"Relevance"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"})]})]})]}),T.length>0&&e.jsxs("div",{className:"mb-4 flex flex-wrap gap-2 items-center",children:[e.jsx("span",{className:"text-sm text-secondary-600",children:"Active filters:"}),T.map(s=>e.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-800 text-sm rounded-full flex items-center",children:[s,e.jsx("button",{onClick:()=>K(s),className:"ml-1 text-primary-600 hover:text-primary-800",children:e.jsx(D,{size:14})})]},s)),e.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",onClick:I,children:"Clear all"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Filters"}),e.jsx(de,{size:18,className:"text-secondary-400"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{className:"flex items-center justify-between w-full text-left font-medium mb-2",onClick:()=>w("categories"),children:[e.jsx("span",{children:"Categories"}),c.categories?e.jsx(C,{size:16}):e.jsx(k,{size:16})]}),e.jsx(v,{children:c.categories&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:e.jsx("div",{className:"space-y-2 ml-1",children:q.map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`cat-${s.id}`,checked:x.includes(s.name),className:"rounded text-primary-600 focus:ring-primary-500 mr-2",onChange:i=>U(s.name,i.target.checked)}),e.jsx("label",{htmlFor:`cat-${s.id}`,className:"text-sm",children:s.name})]},s.id))})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{className:"flex items-center justify-between w-full text-left font-medium mb-2",onClick:()=>w("price"),children:[e.jsx("span",{children:"Price Range"}),c.price?e.jsx(C,{size:16}):e.jsx(k,{size:16})]}),e.jsx(v,{children:c.price&&e.jsxs(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:["                      ",e.jsxs("div",{className:"space-y-3 px-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",className:"w-full p-1.5 border border-gray-300 rounded text-sm",value:F,onChange:s=>M(s.target.value)}),e.jsx("span",{className:"text-gray-400",children:"-"}),e.jsx("input",{type:"number",placeholder:"Max",className:"w-full p-1.5 border border-gray-300 rounded text-sm",value:L,onChange:s=>$(s.target.value)})]}),e.jsx(d,{variant:"outline",size:"sm",className:"w-full",onClick:B,children:"Apply"})]})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{className:"flex items-center justify-between w-full text-left font-medium mb-2",onClick:()=>w("suppliers"),children:[e.jsx("span",{children:"Suppliers"}),c.suppliers?e.jsx(C,{size:16}):e.jsx(k,{size:16})]}),e.jsx(v,{children:c.suppliers&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:e.jsx("div",{className:"space-y-2 ml-1",children:te.map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`sup-${s.id}`,checked:f.includes(s.name),className:"rounded text-primary-600 focus:ring-primary-500 mr-2",onChange:i=>J(s.name,i.target.checked)}),e.jsx("label",{htmlFor:`sup-${s.id}`,className:"text-sm",children:s.name})]},s.id))})})})]})]})}),e.jsx(v,{children:h&&e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 md:hidden",onClick:b,children:e.jsx(m.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"tween"},className:"absolute top-0 left-0 w-3/4 h-full bg-secondary-50 overflow-auto",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Filters"}),e.jsx("button",{onClick:b,className:"p-1",children:e.jsx(D,{size:20,className:"text-secondary-600"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("button",{className:"flex items-center justify-between w-full text-left font-medium mb-2",onClick:()=>w("categories"),children:[e.jsx("span",{children:"Categories"}),c.categories?e.jsx(C,{size:16}):e.jsx(k,{size:16})]}),e.jsx(v,{children:c.categories&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:e.jsx("div",{className:"space-y-2 ml-1",children:q.map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`m-cat-${s.id}`,checked:x.includes(s.name),className:"rounded text-primary-600 focus:ring-primary-500 mr-2",onChange:i=>U(s.name,i.target.checked)}),e.jsx("label",{htmlFor:`m-cat-${s.id}`,className:"text-sm",children:s.name})]},`m-${s.id}`))})})})]}),e.jsxs("div",{children:[e.jsxs("button",{className:"flex items-center justify-between w-full text-left font-medium mb-2",onClick:()=>w("price"),children:[e.jsx("span",{children:"Price Range"}),c.price?e.jsx(C,{size:16}):e.jsx(k,{size:16})]}),e.jsx(v,{children:c.price&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:e.jsxs("div",{className:"space-y-3 px-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",className:"w-full p-2 border border-primary-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary-400",value:F,onChange:s=>M(s.target.value)}),e.jsx("span",{className:"text-secondary-400",children:"-"}),e.jsx("input",{type:"number",placeholder:"Max",className:"w-full p-2 border border-primary-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary-400",value:L,onChange:s=>$(s.target.value)})]}),e.jsx(d,{variant:"outline",size:"sm",className:"w-full",onClick:B,children:"Apply"})]})})})]})]}),e.jsxs("div",{className:"mt-8 space-y-3",children:[e.jsx(d,{variant:"primary",fullWidth:!0,onClick:b,children:"Apply Filters"}),e.jsx(d,{variant:"outline",fullWidth:!0,onClick:()=>{I(),b()},children:"Clear Filters"})]})]})})})}),"          ",e.jsxs("div",{className:"flex-grow",children:[E?e.jsx("div",{className:p==="grid"?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6":"space-y-4",children:Array.from({length:y}).map((s,i)=>e.jsx(me,{layout:p},i))}):g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-lg text-secondary-600 mb-4",children:"No products found."}),e.jsx(d,{variant:"outline",onClick:I,children:"Clear filters"})]}):e.jsx("div",{className:p==="grid"?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6":"space-y-4",children:Q().map(s=>e.jsx(ae,{product:s,layout:p},s.id))}),!E&&g.length>0&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("nav",{className:"flex items-center gap-1",children:[e.jsx(d,{variant:"outline",size:"sm",className:"px-3",onClick:Z,disabled:l===1,children:e.jsx(ne,{size:16})}),ee().map(s=>e.jsx(d,{variant:s===l?"primary":"outline",size:"sm",className:"px-3",onClick:()=>S(s),children:s},s)),e.jsx(d,{variant:"outline",size:"sm",className:"px-3",onClick:Y,disabled:l===Math.ceil(g.length/y),children:e.jsx(le,{size:16})})]})})]})]})]})};export{je as default};
