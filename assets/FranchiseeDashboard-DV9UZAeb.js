import{e as d,j as e,f as c}from"./index-DGeeWcuk.js";import{r as x}from"./vendor-BlcjAmUP.js";import{f as l}from"./utils-Dup6WxmZ.js";import{P as m}from"./package-DJT_sMLJ.js";import{C as h,a as o}from"./chevron-up-dPiiNlvr.js";import{D as g}from"./DashboardNav-C5uKzrOe.js";import"./shopping-bag-B-JgKrNM.js";import"./settings-Bgf6nr7-.js";const n=({status:s})=>{const i={Pending:"bg-yellow-100 text-yellow-800",Processing:"bg-blue-100 text-blue-800",Shipped:"bg-indigo-100 text-indigo-800",Delivered:"bg-green-100 text-green-800",Cancelled:"bg-red-100 text-red-800"}[s]||"bg-gray-100 text-gray-800";return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i}`,children:s})},j=({order:s})=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mt-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Order Information"}),e.jsxs("dl",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Order Number:"}),e.jsx("dd",{className:"text-sm font-medium",children:s.orderNumber||s.id.substring(0,10)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Order Date:"}),e.jsx("dd",{className:"text-sm",children:new Date(s.orderDate).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Current Status:"}),e.jsx("dd",{children:e.jsx(n,{status:s.status})})]}),s.trackingNumber&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Tracking Number:"}),e.jsx("dd",{className:"text-sm font-medium",children:s.trackingNumber})]})]}),s.statusHistory&&s.statusHistory.length>1&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium text-xs text-gray-700 mb-1",children:"Status History"}),e.jsx("div",{className:"bg-white rounded border border-gray-200 p-2 max-h-28 overflow-y-auto",children:s.statusHistory.slice().reverse().map((a,i)=>e.jsxs("div",{className:"flex justify-between items-center text-xs py-1",children:[e.jsx("span",{className:"text-gray-600",children:new Date(a.date).toLocaleString()}),e.jsx(n,{status:a.status})]},i))})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Billing Information"}),e.jsxs("dl",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Company:"}),e.jsx("dd",{className:"text-sm",children:s.billingInfo.companyName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"DBA:"}),e.jsx("dd",{className:"text-sm",children:s.billingInfo.dba})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Payment:"}),e.jsxs("dd",{className:"text-sm",children:[s.paymentMethod.type," ****",s.paymentMethod.lastFourDigits]})]})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Order Items"}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Price"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s.items.map((a,i)=>e.jsxs("tr",{className:"text-sm",children:[e.jsx("td",{className:"px-4 py-3",children:a.name}),e.jsx("td",{className:"px-4 py-3 text-right",children:a.quantity}),e.jsx("td",{className:"px-4 py-3 text-right",children:l(a.price)}),e.jsx("td",{className:"px-4 py-3 text-right",children:l(a.price*a.quantity)})]},i)),e.jsxs("tr",{className:"bg-gray-50 font-medium",children:[e.jsx("td",{colSpan:3,className:"px-4 py-3 text-right",children:"Total"}),e.jsx("td",{className:"px-4 py-3 text-right",children:l(s.total)})]})]})]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Shipping Address"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.billingInfo.shippingAddress.street,e.jsx("br",{}),s.billingInfo.shippingAddress.city,", ",s.billingInfo.shippingAddress.state," ",s.billingInfo.shippingAddress.zipCode]})]})]}),u=()=>{const{orders:s}=d(),[a,i]=x.useState(null);if(s.length===0)return e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[e.jsx("h2",{className:"text-xl font-medium mb-4",children:"Recent Orders"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(m,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No orders found"})]})]});const r=t=>{i(a===t?null:t)};return e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[e.jsx("h2",{className:"text-xl font-medium mb-4",children:"Recent Orders"}),e.jsx("div",{className:"space-y-4",children:s.map(t=>e.jsxs("div",{className:"border rounded-lg",children:[e.jsxs("button",{onClick:()=>r(t.id),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:t.orderNumber||t.id.substring(0,10)}),t.trackingNumber&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Tracking: ",t.trackingNumber]})]}),e.jsx(n,{status:t.status}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(t.orderDate).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"font-medium",children:l(t.total)}),a===t.id?e.jsx(h,{className:"h-5 w-5 text-gray-400"}):e.jsx(o,{className:"h-5 w-5 text-gray-400"})]})]}),a===t.id&&e.jsx(j,{order:t})]},t.id))})]})},O=()=>{const{user:s}=c();return e.jsxs("div",{className:"container-custom py-8",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-serif",children:["Welcome back, ",s==null?void 0:s.name]}),e.jsx("p",{className:"text-gray-600",children:"Manage your franchise operations"})]})}),e.jsx(g,{}),e.jsxs("div",{className:"bg-white shadow-soft rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-medium mb-6",children:"Recent Orders"}),e.jsx(u,{})]})]})};export{O as default};
