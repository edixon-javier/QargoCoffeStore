import{j as e,k as V,M as z,P as Z}from"./index-BY5_m-nD.js";import{b as H,e as $,r as n}from"./vendor-DPNQA5jQ.js";import{f as o}from"./utils-PDxtfP7g.js";import{A as G}from"./arrow-left-CrkuhrVs.js";import{S as J}from"./square-pen-CjsCIpLw.js";import{U as Q}from"./users-Yx7xbUmg.js";import{M as _}from"./map-pin-DNmfBsdx.js";import{C as K}from"./calendar-t3_6nhfw.js";import{P as W}from"./package-nSDqup1n.js";import{C as x}from"./credit-card-Dl55MpOM.js";import{C as X}from"./clock-HVv8oYvY.js";const Y=[{id:"f1",name:"Prestige Cafe",email:"dearborn-22022@qargocoffee.com",role:"franchisee",createdAt:"2023-01-15T08:00:00Z",billingInfo:{companyName:"Prestige Cafe",dba:"Qargo Connect Dearborne",billingAddress:{street:"22022 Michigan Ave Unit C",city:"Dearborn",state:"MI",zipCode:"48124-2889"},shippingAddress:{street:"22022 Michigan Ave Unit C",city:"Dearborn",state:"MI",zipCode:"48124-2889"},email:"dearborn-22022@qargocoffee.com",phone:"(734) 686-1192",paymentMethod:{type:"credit_card",cardNumber:"**** **** **** 4242",expiryDate:"12/25",cvv:"***",cardholderName:"JOHN NORT"}}}],ee=[{id:"ord-001",userId:"f1",customerName:"Prestige Cafe",orderNumber:"ORD-2023-001",status:"delivered",items:[{productId:"p1",name:"Premium Blend Coffee",quantity:10,price:24.99},{productId:"p2",name:"Ceramic Mugs",quantity:20,price:12.99}],total:509.7,date:"2023-06-10T14:30:00Z"},{id:"ord-002",userId:"f1",customerName:"Prestige Cafe",orderNumber:"ORD-2023-008",status:"processing",items:[{productId:"p3",name:"Special Coffee Beans",quantity:5,price:39.99},{productId:"p4",name:"Coffee Grinder",quantity:2,price:89.99}],total:379.93,date:"2023-06-25T10:15:00Z"},{id:"ord-003",userId:"f1",customerName:"Prestige Cafe",orderNumber:"ORD-2023-012",status:"pending",items:[{productId:"p5",name:"Vanilla Syrup",quantity:8,price:8.99},{productId:"p6",name:"Napkin Pack",quantity:30,price:3.49}],total:176.62,date:"2023-07-02T16:45:00Z"}],se=()=>{var g,p,f,N,j,u,y,b,v,w,I,C,A,D,O,S,P,k;const c=H(),{id:l}=$(),[s,M]=n.useState(null),[h,T]=n.useState([]),[F,q]=n.useState(!0),[r,E]=n.useState({totalOrders:0,totalSpent:0,averageOrderValue:0,lastOrder:""});n.useEffect(()=>{l&&(async()=>{try{await new Promise(t=>setTimeout(t,800));const i=Y.find(t=>t.id===l);if(i){M(i);const t=ee.filter(d=>d.userId===l);if(T(t),t.length>0){const d=t.reduce((m,U)=>m+U.total,0),R=new Date(Math.max(...t.map(m=>new Date(m.date).getTime()))).toISOString();E({totalOrders:t.length,totalSpent:d,averageOrderValue:d/t.length,lastOrder:R})}}}catch(i){console.error("Error loading franchisee data:",i)}finally{q(!1)}})()},[l]);const L=()=>{c(`/admin/franchisees/edit/${l}`)},B=a=>{switch(a){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return F?e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(V,{})}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>c("/admin/franchisees"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:[e.jsx(G,{className:"h-5 w-5"}),e.jsx("span",{children:"Back"})]}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Franchisee Details"})]}),e.jsxs("button",{onClick:L,className:"flex items-center gap-2 py-2 px-4 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsx(J,{className:"h-5 w-5"}),e.jsx("span",{children:"Edit"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-soft p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx(Q,{className:"h-10 w-10 text-primary-700"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:((g=s.billingInfo)==null?void 0:g.companyName)||s.name}),e.jsx("p",{className:"text-gray-600",children:((p=s.billingInfo)==null?void 0:p.dba)||"No business name"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800",children:"Franchisee"}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Active"})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:((f=s.billingInfo)==null?void 0:f.phone)||"Not available"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5 text-gray-400"}),e.jsxs("span",{className:"text-gray-700",children:[((N=s.billingInfo)==null?void 0:N.billingAddress.city)||"N/A",", ",((j=s.billingInfo)==null?void 0:j.billingAddress.state)||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5 text-gray-400"}),e.jsxs("span",{className:"text-gray-700",children:["Since ",new Date(s.createdAt).toLocaleDateString()]})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),e.jsx(W,{className:"h-6 w-6 text-primary-600"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("h3",{className:"text-2xl font-semibold",children:r.totalOrders})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Spent"}),e.jsx(x,{className:"h-6 w-6 text-green-600"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("h3",{className:"text-2xl font-semibold",children:o(r.totalSpent)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Average Order Value"}),e.jsx(x,{className:"h-6 w-6 text-blue-600"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("h3",{className:"text-2xl font-semibold",children:o(r.averageOrderValue)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Last Order"}),e.jsx(X,{className:"h-6 w-6 text-purple-600"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("h3",{className:"text-lg font-semibold",children:r.lastOrder?new Date(r.lastOrder).toLocaleDateString():"N/A"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Name"}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("span",{className:"font-medium",children:s.email})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Phone"}),e.jsx("span",{className:"font-medium",children:((u=s.billingInfo)==null?void 0:u.phone)||"Not available"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Company"}),e.jsx("span",{className:"font-medium",children:((y=s.billingInfo)==null?void 0:y.companyName)||"Not available"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"DBA"}),e.jsx("span",{className:"font-medium",children:((b=s.billingInfo)==null?void 0:b.dba)||"Not available"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Addresses"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Shipping Address"}),e.jsxs("address",{className:"not-italic",children:[e.jsx("p",{children:((v=s.billingInfo)==null?void 0:v.shippingAddress.street)||"Not available"}),e.jsxs("p",{children:[((w=s.billingInfo)==null?void 0:w.shippingAddress.city)||"Not available",", ",((I=s.billingInfo)==null?void 0:I.shippingAddress.state)||""," ",((C=s.billingInfo)==null?void 0:C.shippingAddress.zipCode)||""]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Billing Address"}),e.jsxs("address",{className:"not-italic",children:[e.jsx("p",{children:((A=s.billingInfo)==null?void 0:A.billingAddress.street)||"Not available"}),e.jsxs("p",{children:[((D=s.billingInfo)==null?void 0:D.billingAddress.city)||"Not available",", ",((O=s.billingInfo)==null?void 0:O.billingAddress.state)||""," ",((S=s.billingInfo)==null?void 0:S.billingAddress.zipCode)||""]})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Payment Information"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5 text-gray-400"}),e.jsxs("span",{className:"text-gray-700",children:[((P=s.billingInfo)==null?void 0:P.paymentMethod.cardNumber)||"Not available"," (Exp: ",((k=s.billingInfo)==null?void 0:k.paymentMethod.expiryDate)||"N/A",")"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Order History"}),h.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-primary-600",children:a.orderNumber})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-700",children:new Date(a.date).toLocaleDateString()}),e.jsx("div",{className:"text-sm text-gray-500",children:new Date(a.date).toLocaleTimeString()})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${B(a.status)}`,children:a.status==="pending"?"Pending":a.status==="processing"?"Processing":a.status==="delivered"?"Delivered":a.status==="canceled"?"Canceled":"Unknown"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[a.items.length," ",a.items.length===1?"product":"products"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[a.items.map(i=>i.name).join(", ").substring(0,30),a.items.map(i=>i.name).join(", ").length>30?"...":""]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:o(a.total)})]},a.id))})]})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"This franchisee has no registered orders."})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Franchisee not found"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"The franchisee you are looking for does not exist or has been deleted"}),e.jsx("button",{onClick:()=>c("/admin/franchisees"),className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Back to list"})]})},he=()=>e.jsx(se,{});export{he as default};
