import{b as y,f as v,j as e,a as o,C as w}from"./index-DDry2z9x.js";import{b as N,u as k,r as l}from"./vendor-DPNQA5jQ.js";import{B as S}from"./Button-ddf6vtKq.js";import{S as F}from"./store-aIkH0eXQ.js";import"./utils-PDxtfP7g.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=y("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=y("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),B=()=>{const d=N(),f=k(),{login:g}=v(),[t,c]=l.useState("franchisee"),[i,n]=l.useState({email:t==="franchisee"?"dearborn-22022@qargocoffee.com":"admin@tienda.com",password:t==="franchisee"?"123456":"admin123",remember:!1}),[m,p]=l.useState(!1),[h,x]=l.useState(""),b=async a=>{a.preventDefault(),p(!0),x("");try{await g(i.email,i.password);const s=f.state,u=s==null?void 0:s.returnUrl;if(u)d(u);else{const r=JSON.parse(localStorage.getItem("auth_state")||"{}").user,j=(r==null?void 0:r.role)==="admin"?"/admin":(r==null?void 0:r.role)==="franchisee"?"/franchisee":(r==null?void 0:r.role)==="supplier"?"/supplier":"/";d(j)}}catch{x("Invalid credentials")}finally{p(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-soft relative",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-white rounded-full shadow-md p-2",children:e.jsxs(o.div,{className:"flex items-center space-x-8 p-1 bg-gray-100 rounded-full",animate:{backgroundColor:t==="franchisee"?"#E5E7EB":"#F3F4F6"},children:[e.jsxs(o.button,{type:"button",onClick:()=>{c("franchisee"),n(a=>({...a,email:"dearborn-22022@qargocoffee.com",password:"123456"}))},className:`flex items-center space-x-2 px-4 py-2 rounded-full ${t==="franchisee"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(F,{size:20}),e.jsx("span",{className:"text-sm font-medium",children:"Franchisee"})]}),e.jsxs(o.button,{type:"button",onClick:()=>{c("admin"),n(a=>({...a,email:"admin@tienda.com",password:"admin123"}))},className:`flex items-center space-x-2 px-4 py-2 rounded-full ${t==="admin"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(C,{size:20}),e.jsx("span",{className:"text-sm font-medium",children:"Administrator"})]})]})}),e.jsx(w,{className:"mx-auto h-12 w-12 text-primary-600 mt-8",strokeWidth:2}),e.jsx("h2",{className:"mt-6 text-3xl font-serif text-gray-900",children:"Good to have you back!"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Log in as ",t==="franchisee"?"Franchisee":"Administrator"]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[h&&e.jsx("div",{className:"rounded-md bg-error-50 p-4",children:e.jsx("p",{className:"text-sm text-error-800",children:h})}),e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:i.email,onChange:a=>n(s=>({...s,email:a.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:i.password,onChange:a=>n(s=>({...s,password:a.target.value}))})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember",name:"remember",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:i.remember,onChange:a=>n(s=>({...s,remember:a.target.checked}))}),e.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]})}),e.jsx(S,{type:"submit",variant:"primary",fullWidth:!0,disabled:m,rightIcon:e.jsx(E,{size:16}),children:m?"Signing in...":"Sign in"})]})]})})};export{B as default};
