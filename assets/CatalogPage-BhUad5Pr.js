import{c as $,j as e,m,X as U,A as g}from"./index-CLvT_caO.js";import{r as a,u as se}from"./vendor-BlcjAmUP.js";import{B as d}from"./Button-BDJo2tyT.js";import{c as O,m as ie,s as te,P as ae,C as le}from"./mockData-DMGia0Y9.js";import{F as re}from"./filter-DsH4_60S.js";import{C as w,a as k}from"./chevron-up-BLrjD0pN.js";import"./utils-Dup6WxmZ.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=$("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=$("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=$("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=$("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),r=({className:u=""})=>e.jsx("div",{className:`animate-pulse bg-gradient-to-r from-primary-50 via-primary-100 to-primary-50 rounded-md ${u}`,style:{backgroundSize:"200% 100%",animation:"pulse 1.5s ease-in-out infinite, shimmer 2s infinite linear"}}),me=({layout:u="grid"})=>u==="list"?e.jsxs(m.div,{className:"product-card flex flex-row mb-4 overflow-hidden h-[150px] bg-white shadow-soft",initial:{opacity:.6},animate:{opacity:1},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},children:[e.jsx(r,{className:"w-1/4 h-full"}),e.jsxs("div",{className:"w-3/4 p-4 flex flex-col",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"w-full",children:[e.jsx(r,{className:"w-1/4 h-4 mb-1"}),e.jsx(r,{className:"w-2/3 h-6 mb-2"})]})}),e.jsxs("div",{className:"space-y-2 flex-grow",children:[e.jsx(r,{className:"w-full h-4"}),e.jsx(r,{className:"w-full h-4"}),e.jsx(r,{className:"w-3/4 h-4"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[e.jsx(r,{className:"w-1/4 h-6"}),e.jsx(r,{className:"w-24 h-8 rounded-md"})]})]})]}):e.jsxs(m.div,{className:"product-card h-full bg-white shadow-soft",initial:{opacity:.6},animate:{opacity:1},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},children:[e.jsx("div",{className:"relative overflow-hidden pb-[100%]",children:e.jsx(r,{className:"absolute inset-0"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsx(r,{className:"w-1/3 h-4"})}),e.jsx(r,{className:"w-full h-6 mb-2"}),e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsx(r,{className:"w-1/3 h-6"}),e.jsx(r,{className:"w-10 h-10 rounded-full"})]})]})]}),ve=()=>{const[u,W]=a.useState(!1),[h,q]=a.useState("grid"),[T,o]=a.useState([]),[C,_]=a.useState("relevance"),[E,H]=a.useState(!0),[l,P]=a.useState(1),[p]=a.useState(12),[x,v]=a.useState([]),[f,S]=a.useState([]),[y,A]=a.useState({min:null,max:null}),[z,F]=a.useState(""),[M,L]=a.useState(""),[c,D]=a.useState({categories:!0,price:!0,suppliers:!1}),X=se(),R=new URLSearchParams(X.search).get("categoria");a.useEffect(()=>{var s;if(R){const i=(s=O.find(t=>t.slug===R))==null?void 0:s.name;i&&(v([i]),o([i]))}},[R]);const V=a.useCallback(()=>{H(!0);const s=setTimeout(()=>{H(!1)},600);return()=>clearTimeout(s)},[]);a.useEffect(()=>{const s=setTimeout(()=>{V()},200);return()=>clearTimeout(s)},[x,f,y,C,l,V]);const j=a.useMemo(()=>[...ie.filter(i=>!(x.length>0&&!x.includes(i.category.name)||f.length>0&&!f.includes(i.supplier.name)||y.min!==null&&i.price<y.min||y.max!==null&&i.price>y.max))].sort((i,t)=>{switch(C){case"price-asc":return(i.salePrice||i.price)-(t.salePrice||t.price);case"price-desc":return(t.salePrice||t.price)-(i.salePrice||i.price);case"relevance":default:return 0}}),[x,f,y,C]),N=()=>W(!u),b=s=>{D(i=>({...i,[s]:!i[s]}))},B=(s,i)=>{i?(v(t=>[...t,s]),o(t=>[...t,s])):(v(t=>t.filter(n=>n!==s)),o(t=>t.filter(n=>n!==s)))},J=(s,i)=>{i?(S(t=>[...t,s]),o(t=>[...t,s])):(S(t=>t.filter(n=>n!==s)),o(t=>t.filter(n=>n!==s)))},G=()=>{const s=z?parseInt(z):null,i=M?parseInt(M):null;if(A({min:s,max:i}),o(t=>t.filter(n=>!n.includes("Price:"))),s!==null||i!==null){const t=`Price: ${s!==null?s:"0"}-${i!==null?i:"âˆž"}`;o(n=>[...n,t])}},K=s=>{o(T.filter(i=>i!==s)),x.includes(s)?v(i=>i.filter(t=>t!==s)):f.includes(s)?S(i=>i.filter(t=>t!==s)):s.includes("Precio:")&&(A({min:null,max:null}),F(""),L(""))},I=()=>{o([]),v([]),S([]),A({min:null,max:null}),F(""),L(""),P(1)},Q=()=>{const s=l*p,i=s-p;return j.slice(i,s)},Y=()=>{const s=Math.ceil(j.length/p);l<s&&(P(l+1),window.scrollTo(0,0))},Z=()=>{l>1&&(P(l-1),window.scrollTo(0,0))},ee=()=>{const s=Math.ceil(j.length/p);return s<=5?Array.from({length:s},(i,t)=>t+1):l<=3?[1,2,3,4,5]:l>=s-2?[s-4,s-3,s-2,s-1,s]:[l-2,l-1,l,l+1,l+2]};return e.jsxs("div",{className:"container-custom py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-serif mb-2",children:"Product Catalog"}),e.jsx("p",{className:"text-secondary-600",children:"Find everything you need for your coffee business"})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:[e.jsx(d,{variant:"outline",size:"sm",leftIcon:e.jsx(re,{size:16}),onClick:N,className:"md:hidden",children:"Filters"}),e.jsxs("div",{className:"flex items-center gap-2 flex-grow md:flex-grow-0",children:[e.jsx("span",{className:"text-sm text-secondary-600",children:"View as:"}),e.jsx("button",{onClick:()=>q("grid"),className:`p-1.5 rounded ${h==="grid"?"bg-primary-100 text-primary-800":"text-secondary-400"}`,"aria-label":"View as grid",children:e.jsx(ce,{size:18})}),e.jsx("button",{onClick:()=>q("list"),className:`p-1.5 rounded ${h==="list"?"bg-primary-100 text-primary-800":"text-secondary-400"}`,"aria-label":"View as list",children:e.jsx(oe,{size:18})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-secondary-600",children:"Sort by:"}),e.jsxs("select",{className:"border border-primary-200 rounded p-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-primary-400",value:C,onChange:s=>_(s.target.value),children:[e.jsx("option",{value:"relevance",children:"Relevance"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"})]})]})]}),T.length>0&&e.jsxs("div",{className:"mb-4 flex flex-wrap gap-2 items-center",children:[e.jsx("span",{className:"text-sm text-secondary-600",children:"Active filters:"}),T.map(s=>e.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-800 text-sm rounded-full flex items-center",children:[s,e.jsx("button",{onClick:()=>K(s),className:"ml-1 text-primary-600 hover:text-primary-800",children:e.jsx(U,{size:14})})]},s)),e.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",onClick:I,children:"Clear all"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Filters"}),e.jsx(de,{size:18,className:"text-secondary-400"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{className:"flex items-center justify-between w-full text-left font-medium mb-2",onClick:()=>b("categories"),children:[e.jsx("span",{children:"Categories"}),c.categories?e.jsx(w,{size:16}):e.jsx(k,{size:16})]}),e.jsx(g,{children:c.categories&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:e.jsx("div",{className:"space-y-2 ml-1",children:O.map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`cat-${s.id}`,checked:x.includes(s.name),className:"rounded text-primary-600 focus:ring-primary-500 mr-2",onChange:i=>B(s.name,i.target.checked)}),e.jsx("label",{htmlFor:`cat-${s.id}`,className:"text-sm",children:s.name})]},s.id))})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{className:"flex items-center justify-between w-full text-left font-medium mb-2",onClick:()=>b("price"),children:[e.jsx("span",{children:"Price Range"}),c.price?e.jsx(w,{size:16}):e.jsx(k,{size:16})]}),e.jsx(g,{children:c.price&&e.jsxs(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:["                      ",e.jsxs("div",{className:"space-y-3 px-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",className:"w-full p-1.5 border border-gray-300 rounded text-sm",value:z,onChange:s=>F(s.target.value)}),e.jsx("span",{className:"text-gray-400",children:"-"}),e.jsx("input",{type:"number",placeholder:"Max",className:"w-full p-1.5 border border-gray-300 rounded text-sm",value:M,onChange:s=>L(s.target.value)})]}),e.jsx(d,{variant:"outline",size:"sm",className:"w-full",onClick:G,children:"Apply"})]})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{className:"flex items-center justify-between w-full text-left font-medium mb-2",onClick:()=>b("suppliers"),children:[e.jsx("span",{children:"Suppliers"}),c.suppliers?e.jsx(w,{size:16}):e.jsx(k,{size:16})]}),e.jsx(g,{children:c.suppliers&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:e.jsx("div",{className:"space-y-2 ml-1",children:te.map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`sup-${s.id}`,checked:f.includes(s.name),className:"rounded text-primary-600 focus:ring-primary-500 mr-2",onChange:i=>J(s.name,i.target.checked)}),e.jsx("label",{htmlFor:`sup-${s.id}`,className:"text-sm",children:s.name})]},s.id))})})})]})]})}),e.jsx(g,{children:u&&e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 md:hidden",onClick:N,children:e.jsx(m.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"tween"},className:"absolute top-0 left-0 w-3/4 h-full bg-secondary-50 overflow-auto",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Filters"}),e.jsx("button",{onClick:N,className:"p-1",children:e.jsx(U,{size:20,className:"text-secondary-600"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("button",{className:"flex items-center justify-between w-full text-left font-medium mb-2",onClick:()=>b("categories"),children:[e.jsx("span",{children:"Categories"}),c.categories?e.jsx(w,{size:16}):e.jsx(k,{size:16})]}),e.jsx(g,{children:c.categories&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:e.jsx("div",{className:"space-y-2 ml-1",children:O.map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`m-cat-${s.id}`,checked:x.includes(s.name),className:"rounded text-primary-600 focus:ring-primary-500 mr-2",onChange:i=>B(s.name,i.target.checked)}),e.jsx("label",{htmlFor:`m-cat-${s.id}`,className:"text-sm",children:s.name})]},`m-${s.id}`))})})})]}),e.jsxs("div",{children:[e.jsxs("button",{className:"flex items-center justify-between w-full text-left font-medium mb-2",onClick:()=>b("price"),children:[e.jsx("span",{children:"Price Range"}),c.price?e.jsx(w,{size:16}):e.jsx(k,{size:16})]}),e.jsx(g,{children:c.price&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:e.jsxs("div",{className:"space-y-3 px-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",className:"w-full p-2 border border-primary-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary-400",value:z,onChange:s=>F(s.target.value)}),e.jsx("span",{className:"text-secondary-400",children:"-"}),e.jsx("input",{type:"number",placeholder:"Max",className:"w-full p-2 border border-primary-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary-400",value:M,onChange:s=>L(s.target.value)})]}),e.jsx(d,{variant:"outline",size:"sm",className:"w-full",onClick:G,children:"Apply"})]})})})]})]}),e.jsxs("div",{className:"mt-8 space-y-3",children:[e.jsx(d,{variant:"primary",fullWidth:!0,onClick:N,children:"Apply Filters"}),e.jsx(d,{variant:"outline",fullWidth:!0,onClick:()=>{I(),N()},children:"Clear Filters"})]})]})})})}),"          ",e.jsxs("div",{className:"flex-grow",children:[E?e.jsx("div",{className:h==="grid"?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6":"space-y-4",children:Array.from({length:p}).map((s,i)=>e.jsx(me,{layout:h},i))}):j.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-lg text-secondary-600 mb-4",children:"No products found."}),e.jsx(d,{variant:"outline",onClick:I,children:"Clear filters"})]}):e.jsx("div",{className:h==="grid"?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6":"space-y-4",children:Q().map(s=>e.jsx(ae,{product:s,layout:h},s.id))}),!E&&j.length>0&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("nav",{className:"flex items-center gap-1",children:[e.jsx(d,{variant:"outline",size:"sm",className:"px-3",onClick:Z,disabled:l===1,children:e.jsx(ne,{size:16})}),ee().map(s=>e.jsx(d,{variant:s===l?"primary":"outline",size:"sm",className:"px-3",onClick:()=>P(s),children:s},s)),e.jsx(d,{variant:"outline",size:"sm",className:"px-3",onClick:Y,disabled:l===Math.ceil(j.length/p),children:e.jsx(le,{size:16})})]})})]})]})]})};export{ve as default};
