import{u as p,d as x,j as e,A as h,a as u}from"./index-BeUTusdR.js";import{b as j,L as n}from"./vendor-CuftA7A4.js";import{B as y}from"./Button-DzkITvs3.js";import{f as s}from"./utils-PDxtfP7g.js";import{S as f}from"./shopping-bag-tVflSnZB.js";import{M as b}from"./minus-Dot2JJD0.js";import{P as g}from"./plus-D7rzxen9.js";import{T as N}from"./trash-2-3myatCiM.js";import{A as v}from"./arrow-right-DH2kEtOI.js";const B=()=>{const{items:t,updateQuantity:a,removeItem:l,total:i,itemCount:o}=p(),{isAuthenticated:d}=x(),c=j(),m=()=>{d?c("/checkout"):c("/login",{state:{returnUrl:"/checkout"}})};return e.jsxs("div",{className:"container-custom py-8",children:[e.jsx("h1",{className:"text-3xl font-serif mb-6",children:"Shopping Cart"}),t.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-soft",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(f,{className:"h-8 w-8 text-primary-700"})}),e.jsx("h2",{className:"text-2xl font-medium mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-secondary-600 mb-6",children:"Add products to your cart to continue with your purchase"}),e.jsx(n,{to:"/catalog",children:e.jsx(y,{variant:"primary",children:"Explore catalog"})})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("h2",{className:"font-medium",children:["Products in your cart (",o,")"]})}),e.jsx(h,{children:t.map(r=>e.jsxs(u.div,{initial:{opacity:1},exit:{opacity:0,height:0,marginTop:0},transition:{duration:.3},className:"p-4 border-b border-gray-100 flex items-center",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-50 rounded overflow-hidden flex-shrink-0",children:e.jsx("img",{src:r.product.images[0],alt:r.product.name,className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"ml-4 flex-grow",children:[e.jsx(n,{to:`/product/${r.product.id}`,className:"font-medium hover:text-primary-700 transition-colors",children:r.product.name}),e.jsxs("p",{className:"text-sm text-secondary-500 mb-1",children:["SKU: ",r.product.sku]}),e.jsxs("p",{className:"text-sm text-secondary-500",children:["Supplier: ",r.product.supplier.name]})]}),e.jsxs("div",{className:"flex items-center mr-6",children:[e.jsx("button",{onClick:()=>a(r.product.id,r.quantity-1),className:"p-1 rounded border border-primary-200 text-primary-600 hover:border-primary-500 hover:text-primary-700 hover:bg-primary-50 transition-colors","aria-label":"Decrease quantity",children:e.jsx(b,{size:16})}),e.jsx("span",{className:"mx-2 w-10 text-center",children:r.quantity}),e.jsx("button",{onClick:()=>a(r.product.id,r.quantity+1),className:"p-1 rounded border border-primary-200 text-primary-600 hover:border-primary-500 hover:text-primary-700 hover:bg-primary-50 transition-colors","aria-label":"Increase quantity",children:e.jsx(g,{size:16})})]}),e.jsxs("div",{className:"text-right min-w-[100px]",children:[e.jsx("p",{className:"font-medium",children:s((r.product.salePrice||r.product.price)*r.quantity)}),e.jsxs("p",{className:"text-sm text-secondary-500",children:[s(r.product.salePrice||r.product.price)," each"]})]}),e.jsx("button",{onClick:()=>l(r.product.id),className:"ml-4 p-2 text-secondary-400 hover:text-error-600 transition-colors","aria-label":"Remove product",children:e.jsx(N,{size:18})})]},r.product.id))})]})}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[e.jsx("h2",{className:"text-xl font-medium mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Subtotal (",o," items)"]}),e.jsx("span",{children:s(i)})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:s(i)})]})}),e.jsxs("button",{onClick:m,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 transition-colors flex items-center justify-center gap-2",children:["Proceed to Checkout",e.jsx(v,{size:20})]})]})]})})]})]})};export{B as default};
