import{j as e,k as q,i as X}from"./index-BSNPDyZS.js";import{b as z,r,d as B}from"./vendor-DPNQA5jQ.js";import{m as G}from"./mockSuppliers-Buh3I-tH.js";import{M as H}from"./Modal-nJFDht8j.js";import"./Button-BnLWdcW_.js";import{P as J}from"./index-DivdOlCA.js";import"./index-BZeBXKzl.js";import{P as K,E as Q}from"./plus-circle-BIUQdLpP.js";import{F as W}from"./filter-C-iHO7EN.js";import{A as m}from"./arrow-up-down-CXJ2rz8A.js";import{U as Y}from"./users-50rnhsee.js";import{C as Z}from"./check-circle-CxT7AOCP.js";import{X as _}from"./x-circle-vVc1kxNR.js";import{P as ee}from"./package-DCaG15E5.js";import{S as se}from"./square-pen-DW3UtkWk.js";import{T as te}from"./trash-2-BBtalVPG.js";import"./utils-PDxtfP7g.js";import"./chevron-right-vwJiOW0M.js";const ae=()=>{const x=z(),[p,g]=r.useState([]),[b,C]=r.useState(!0),[i,S]=r.useState(""),[f,c]=r.useState(!1),[n,j]=r.useState(null),[l,k]=r.useState("all"),[h,P]=r.useState(1),[o]=r.useState(10),[a,L]=r.useState({key:"name",direction:"asc"});r.useEffect(()=>{const s=setTimeout(()=>{g(G),C(!1)},800);return()=>clearTimeout(s)},[]);const u=B.useMemo(()=>{const s=[...p];return a.key&&s.sort((t,F)=>{if(a.key==="productsCount")return a.direction==="asc",0;const R=t[a.key],V=F[a.key],v=String(R||""),w=String(V||"");return v<w?a.direction==="asc"?-1:1:v>w?a.direction==="asc"?1:-1:0}),s},[p,a]).filter(s=>{const t=s.name.toLowerCase().includes(i.toLowerCase())||s.contactEmail.toLowerCase().includes(i.toLowerCase())||s.companyName&&s.companyName.toLowerCase().includes(i.toLowerCase());return l==="all"?t:l==="active"?t&&s.status==="active":l==="inactive"?t&&s.status==="inactive":t}),y=u.length,A=Math.ceil(y/o),D=(h-1)*o,M=Math.min(h*o,y),N=u.slice(D,M),d=s=>{let t="asc";a.key===s&&a.direction==="asc"&&(t="desc"),L({key:s,direction:t})},E=()=>{x("/admin/suppliers/new")},I=s=>{x(`/admin/suppliers/edit/${s.id}`)},T=s=>{x(`/admin/suppliers/${s.id}`)},O=s=>{j(s),c(!0)},U=()=>{n&&(g(p.filter(s=>s.id!==n.id)),c(!1),j(null))},$=s=>{P(s)};return b?e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(q,{})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Supplier Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage your product suppliers"})]}),e.jsxs("button",{onClick:E,className:"flex items-center gap-2 bg-primary-600 hover:bg-primary-700 text-white py-2 px-4 rounded-lg transition-colors",children:[e.jsx(K,{className:"h-5 w-5"}),e.jsx("span",{children:"Add New Supplier"})]})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(X,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search suppliers by name, company, or email...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:i,onChange:s=>S(s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5 text-gray-500"}),e.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:l,onChange:s=>k(s.target.value),children:[e.jsx("option",{value:"all",children:"All Suppliers"}),e.jsx("option",{value:"active",children:"Active Only"}),e.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})]})}),e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>d("name"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Name"}),e.jsx(m,{className:"h-4 w-4"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>d("companyName"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Company"}),e.jsx(m,{className:"h-4 w-4"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Info"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>d("status"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Status"}),e.jsx(m,{className:"h-4 w-4"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>d("productsCount"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Products"}),e.jsx(m,{className:"h-4 w-4"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"No suppliers found matching your criteria"})}):N.map((s,t)=>e.jsxs("tr",{className:`hover:bg-gray-100 ${t%2===0?"bg-gray-50":"bg-white"}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.logo?e.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-blue-400 flex items-center justify-center",children:e.jsx(Y,{className:"h-5 w-5 text-white"})}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-700 font-medium",children:s.name.substring(0,2).toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Created: ",new Date(s.createdAt).toLocaleDateString()]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.companyName||"-"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.contactEmail}),e.jsx("div",{className:"text-sm text-gray-500",children:s.contactPhone})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${s.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[s.status==="active"?e.jsx(Z,{className:"h-4 w-4 mr-1"}):e.jsx(_,{className:"h-4 w-4 mr-1"}),s.status.charAt(0).toUpperCase()+s.status.slice(1)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"h-4 w-4 mr-1 text-gray-400"}),e.jsx("span",{children:"0"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>T(s),className:"text-blue-600 hover:text-blue-900",children:e.jsx(Q,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>I(s),className:"text-amber-600 hover:text-amber-900",children:e.jsx(se,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>O(s),className:"text-red-600 hover:text-red-900",children:e.jsx(te,{className:"h-5 w-5"})})]})})]},s.id))})]})}),A>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsx(J,{totalItems:u.length,itemsPerPage:o,currentPage:h,onPageChange:$,itemName:"proveedores",variant:"full",size:"md",previousLabel:"Anterior",nextLabel:"Siguiente"})})]}),f&&e.jsx(H,{isOpen:f,onClose:()=>c(!1),title:"Confirm Deletion",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"mb-6 text-gray-700",children:["Are you sure you want to delete the supplier ",e.jsx("span",{className:"font-medium",children:n==null?void 0:n.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancel"}),e.jsx("button",{onClick:U,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete Supplier"})]})]})})]})},Se=()=>e.jsx(ae,{});export{Se as default};
