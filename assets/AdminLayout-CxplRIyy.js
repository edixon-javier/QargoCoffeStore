import{b as N,j as e,A as b,a as f,f as w,C as y,X as v,L as j,S as k,g as C}from"./index-C0Sy_hlT.js";import{r as d,a as L,u as $,b as S,L as A,O as E}from"./vendor-CuftA7A4.js";import{S as F}from"./store-Buev7UEY.js";import{T as P}from"./truck-D2QMGCUa.js";import{P as W}from"./package-B4HlV0zi.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=N("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),u=({children:t,content:r,side:s="right"})=>{const[i,o]=d.useState(!1),[x,h]=d.useState({x:0,y:0}),a=d.useRef(null);d.useEffect(()=>{if(i&&a.current){const n=a.current.getBoundingClientRect(),m=window.scrollX,p=window.scrollY;let l=0,c=0;switch(s){case"right":l=n.right+8+m,c=n.top+n.height/2+p;break;case"left":l=n.left-8+m,c=n.top+n.height/2+p;break;case"top":l=n.left+n.width/2+m,c=n.top-8+p;break;case"bottom":l=n.left+n.width/2+m,c=n.bottom+8+p;break}h({x:l,y:c})}},[i,s]);const g=i&&L.createPortal(e.jsx(b,{children:e.jsx(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},style:{position:"absolute",left:x.x,top:x.y,transform:`translate(${s==="left"?"-100%":s==="right"?"0":"-50%"}, ${s==="top"?"-100%":s==="bottom"?"0":"-50%"})`,zIndex:9999},children:e.jsx("div",{className:"bg-gray-800 text-white text-sm px-2 py-1 rounded shadow-lg whitespace-nowrap",children:r})})}),document.body);return e.jsxs("div",{ref:a,className:"inline-block",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[t,g]})},D=[{title:"Dashboard",icon:z,path:"/admin",exact:!0},{title:"Order Management",icon:k,path:"/admin/orders"},{title:"Franchisees",icon:F,path:"/admin/franchisees"},{title:"Suppliers",icon:P,path:"/admin/suppliers"},{title:"Products",icon:W,path:"/admin/products"}],I=({isOpen:t,toggleSidebar:r})=>{const s=$(),i=S(),{logout:o}=w(),x=()=>{o(),i("/login")},h=e.jsxs("div",{className:`h-full flex flex-col bg-white border-r border-gray-200 overflow-y-auto transition-all duration-300 ${t?"w-64":"lg:w-20"}`,children:[e.jsx("div",{className:`px-4 py-4 flex justify-between items-center border-b border-gray-200 ${t?"":"lg:justify-center lg:px-2"}`,children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col gap-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-8 w-8 text-primary-600",strokeWidth:2.5}),e.jsx("span",{className:"font-serif font-bold text-xl text-primary-600",children:"Qargo Connet"})]})}),e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 lg:hidden",onClick:r,children:e.jsx(v,{className:"h-5 w-5 text-gray-600"})})]}):e.jsx("div",{className:"hidden lg:block",children:e.jsx(u,{content:"Qargo Connet Admin",children:e.jsx(y,{className:"h-8 w-8 text-primary-600",strokeWidth:2.5})})})}),e.jsx("nav",{className:`px-4 py-4 flex-grow ${t?"":"lg:px-2"}`,children:D.map(a=>{const g=a.exact?s.pathname===a.path:s.pathname.startsWith(a.path);return e.jsx(A,{to:a.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg mb-2 transition-colors ${g?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50"} ${t?"":"lg:justify-center lg:px-2"}`,onClick:()=>{window.innerWidth<768&&r()},children:t?e.jsxs(e.Fragment,{children:[e.jsx(a.icon,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:a.title})]}):e.jsx(u,{content:a.title,children:e.jsx(a.icon,{className:"h-5 w-5"})})},a.path)})}),e.jsx("div",{className:`mt-auto border-t border-gray-200 p-4 ${t?"":"lg:px-2"}`,children:e.jsx("button",{onClick:x,className:`flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors w-full ${t?"":"lg:justify-center lg:px-2"}`,children:t?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Logout"})]}):e.jsx(u,{content:"Logout",children:e.jsx(j,{className:"h-5 w-5"})})})})]});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`hidden md:block fixed left-0 top-0 z-30 h-screen transition-all duration-300 ${t?"w-64":"lg:w-20"}`,children:h}),e.jsx(b,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(f.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r}),e.jsx(f.div,{className:"fixed left-0 top-0 h-full w-64 z-50 md:hidden",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",bounce:0,duration:.3},children:h})]})})]})},V=({children:t})=>{const{user:r}=w(),[s,i]=d.useState(()=>window.innerWidth>=768),o=()=>{i(!s)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(I,{isOpen:s,toggleSidebar:o}),e.jsxs("div",{className:`transition-all duration-300 ${s?"md:pl-64":"md:pl-20"}`,children:[e.jsx("header",{className:`bg-white border-b border-gray-200 h-16 fixed top-0 right-0 left-0 z-10 transition-all duration-300 ${s?"md:left-64":"md:left-20"}`,children:e.jsx("div",{className:"px-4 md:px-8 h-full flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{className:"mr-4 p-2 rounded-md hover:bg-gray-100",onClick:o,"aria-label":s?"Collapse menu":"Expand menu",children:e.jsx(C,{className:"h-6 w-6 text-gray-700"})}),e.jsxs("h2",{className:"text-lg font-medium text-gray-800",children:["Welcome, ",r==null?void 0:r.name]})]})})}),e.jsx("main",{className:"pt-24 px-4 md:px-8 py-6",children:t||e.jsx(E,{})})]})]})};export{V as default};
