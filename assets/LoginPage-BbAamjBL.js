import{c as x,f as w,j as e,m as u,C as N}from"./index-GBJRG4u5.js";import{b as k,u as S,r as o}from"./vendor-BulALN1u.js";import{B as C}from"./Button-2XI4RAVj.js";import"./utils-Dup6WxmZ.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=x("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=x("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),T=()=>{const l=k(),y=S(),{login:f}=w(),[t,g]=o.useState("franchisee"),[i,n]=o.useState({email:t==="franchisee"?"dearborn-22022@qargocoffee.com":"admin@tienda.com",password:t==="franchisee"?"123456":"admin123",remember:!1}),[c,m]=o.useState(!1),[d,p]=o.useState(""),b=()=>{const r=t==="franchisee"?"admin":"franchisee";g(r),n(a=>({...a,email:r==="franchisee"?"dearborn-22022@qargocoffee.com":"admin@tienda.com",password:t==="franchisee"?"admin123":"123456"}))},j=async r=>{r.preventDefault(),m(!0),p("");try{await f(i.email,i.password);const a=y.state,h=a==null?void 0:a.returnUrl;if(h)l(h);else{const s=JSON.parse(localStorage.getItem("auth_state")||"{}").user,v=(s==null?void 0:s.role)==="admin"?"/admin":(s==null?void 0:s.role)==="franchisee"?"/franchisee":(s==null?void 0:s.role)==="supplier"?"/supplier":"/";l(v)}}catch{p("Invalid credentials")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-soft relative",children:[e.jsxs("div",{className:"text-center relative",children:[e.jsx("button",{type:"button",onClick:b,className:"absolute -top-4 -right-4 p-2 text-gray-400 hover:text-gray-600 transition-colors",title:`Switch to ${t==="franchisee"?"Admin":"Franchisee"} login`,children:e.jsx(u.div,{animate:{rotate:t==="franchisee"?0:180},transition:{duration:.3},children:e.jsx(I,{className:"h-5 w-5"})})}),e.jsx(N,{className:"mx-auto h-12 w-12 text-primary-600",strokeWidth:2}),e.jsx("h2",{className:"mt-6 text-3xl font-serif text-gray-900",children:"Welcome back"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Sign in as ",t==="franchisee"?"Franchisee":"Administrator"]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:j,children:[d&&e.jsx("div",{className:"rounded-md bg-error-50 p-4",children:e.jsx("p",{className:"text-sm text-error-800",children:d})}),e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:i.email,onChange:r=>n(a=>({...a,email:r.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:i.password,onChange:r=>n(a=>({...a,password:r.target.value}))})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember",name:"remember",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:i.remember,onChange:r=>n(a=>({...a,remember:r.target.checked}))}),e.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]})}),e.jsx(C,{type:"submit",variant:"primary",fullWidth:!0,disabled:c,rightIcon:e.jsx(L,{size:16}),children:c?"Signing in...":"Sign in"})]})]})})};export{T as default};
